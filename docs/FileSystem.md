# FileSystem — Документация

Модуль **FileSystem** реализует простейшую файловую систему в каталоге `UserFiles`. Он позволяет создавать, удалять, читать и редактировать текстовые файлы.

---

## Константы

```c
#define MAX_FILES 100
#define MAX_NAME_LEN 256
#define MAX_CONTENT_LEN 1024
#define FILE_DIR "UserFiles"
```

* **MAX\_FILES** — максимальное количество файлов.
* **MAX\_NAME\_LEN** — максимальная длина имени файла.
* **MAX\_CONTENT\_LEN** — максимальный размер строки для чтения.
* **FILE\_DIR** — директория для хранения файлов.

---

## Структуры

```c
typedef struct {
    char name[MAX_NAME_LEN];
} File;
```

* Структура `File` хранит имя файла.

---

## Глобальные переменные

```c
static File files[MAX_FILES];
static int file_count;
```

* **files** — массив файлов.
* **file\_count** — текущее количество файлов.

---

## Функции

### `void init_fs()`

Инициализирует файловую систему:

* Создаёт папку `UserFiles`, если её нет.

---

### `void cr_fl(char *filename)`

Создаёт новый файл с указанным именем:

* Имя файла не должно быть пустым.
* Проверяется лимит количества файлов.

---

### `void read_file(char *filename)`

Читает и выводит содержимое файла построчно:

* Если файл не существует — выводит сообщение об ошибке.

---

### `void write_file(char *filename, char *content)`

Добавляет строку в конец файла:

* Создаёт новую строку с переносом.
* Если файл не существует — выводит сообщение об ошибке.

---

### `void delete_line(char *filename, int line_num)`

Удаляет указанную строку по номеру:

* Создаёт временный файл, копирует все строки кроме удаляемой.
* Заменяет оригинальный файл.

---

### `void ls()`

Выводит список всех файлов в файловой системе:

* Если файлов нет — сообщает об этом пользователю.

---

### `void dl_fl(char *filename)`

Удаляет файл с диска и из массива файлов:

* Если файл не найден — выводит сообщение об ошибке.

---

## Примечания

* Все файлы хранятся в каталоге `UserFiles`.
* Эта реализация не отслеживает изменения файлов вне программы.
* Подходит для симуляции простейшей файловой системы в рамках SamITOS.
